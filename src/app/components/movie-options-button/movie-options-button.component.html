<div class="relative" netflixSingleDropdownOpen #dropdown="netflixSingleDropdownOpen">
  <span
    class="cursor-pointer inline-flex items-center justify-center rounded-full p-1
      bg-black/60 md:group-hover:opacity-100 transition-opacity duration-300"
    [class.opacity-100]="dropdown.isOpen"
    [class.md:opacity-0]="!dropdown.isOpen"
    (click)="dropdown.toggle($event)"
  >
    <netflix-icon name="kebab" [size]="size()"/>
  </span>

  <!-- Desktop Dropdown -->
  @if (dropdown.isOpen) {
    <div
      class="hidden md:block absolute right-0 w-48 bg-gray-800 rounded-md shadow-lg z-50"
    >
      <div class="py-1">
        <a href="#" class="block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700">Option 1</a>
        <a href="#" class="block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700">Option 2</a>
        <a href="#" class="block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700">Option 3</a>
      </div>
    </div>
  }

  <!-- Mobile Modal (shown only on mobile) -->
  @if (dropdown.isOpen) {
    <div class="md:hidden fixed inset-0 z-50 overflow-y-auto transition-opacity duration-300"
         [class.opacity-0]="!dropdown.isOpen"
         [class.pointer-events-none]="!dropdown.isOpen">
      <!-- Overlay -->
      <div class="fixed inset-0 bg-black/50" (click)="dropdown.close($event)"></div>

      <!-- Modal Content -->
      <div
        class="fixed bottom-0 left-0 right-0 bg-gray-800 rounded-t-lg shadow-xl transform transition-transform duration-300"
        [class.translate-y-full]="!dropdown.isOpen">
        <div class="py-4 px-4">
          <!-- Options -->
          <div class="space-y-4">
            <a href="#" class="block text-sm text-gray-200 hover:bg-gray-700 rounded">Option 1</a>
            <a href="#" class="block text-sm text-gray-200 hover:bg-gray-700 rounded">Option 2</a>
            <a href="#" class="block text-sm text-gray-200 hover:bg-gray-700 rounded">Option 3</a>
          </div>
        </div>
      </div>
    </div>
  }
</div>

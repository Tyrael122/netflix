<div
  class="flex justify-between items-center p-4 fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-90 md:backdrop-blur-sm text-white shadow-md">
  <!-- Logo -->
  <div class="flex items-center justify-around md:justify-start w-full md:gap-x-5">
    <span routerLink="/"
          class="hidden md:block text-red-600 font-bold text-2xl sm:text-3xl cursor-pointer">NETFLIX</span>

    <netflix-search-bar (onSearchChanged)="searchMovies($event)" class="md:ml-4"></netflix-search-bar>

    <div class="md:hidden ml-4">
      <button (click)="toggleMobileMenu()" class="text-gray-300 hover:text-red-500 focus:outline-none">
        @if (isMobileMenuOpen) {
          <netflix-icon name="close" size="24"></netflix-icon>
        } @else {
          <netflix-icon name="menu" size="24"></netflix-icon>
        }
      </button>
    </div>
  </div>

  <!-- Desktop Navigation -->
  <div class="hidden md:flex items-center gap-6">
    <div class="flex items-center gap-6">
      <a routerLink="/" class="flex items-center group" routerLinkActive="text-red-500"
         [routerLinkActiveOptions]="{exact: true}">
        <span class="text-lg font-medium group-hover:text-red-500">Home</span>
      </a>
      <a routerLink="/favorites" class="flex items-center group" routerLinkActive="text-red-500">
        <span class="text-lg font-medium group-hover:text-red-500">Favorites</span>
      </a>
    </div>
    <netflix-user-icon class="ml-2"></netflix-user-icon>
  </div>
</div>

<!-- Mobile Menu -->
<div class="fixed top-16 left-0 right-0 bg-black bg-opacity-90 z-40 md:hidden transition-all duration-300 ease-in-out"
     [class.hidden]="!isMobileMenuOpen">
  <div class="flex flex-col p-4 space-y-4">
    <a routerLink="/" class="text-white hover:text-red-500 py-2" (click)="closeMobileMenu()"
       routerLinkActive="text-red-500">
      Home
    </a>
    <a routerLink="/favorites" class="text-white hover:text-red-500 py-2" (click)="closeMobileMenu()"
       routerLinkActive="text-red-500">
      Favorites
    </a>
    <div class="pt-4 border-t border-gray-700">
      <netflix-user-icon></netflix-user-icon>
    </div>
  </div>
</div>
